## intro


## Setup infrastructure


sudo kubeadm init --control-plane-endpoint 192.168.1.15 --apiserver-advertise-address



Start by adding a new control node into the existing Cluster, by doing:

```bash
kubeadm token create --print-join-command
kubeadm join 192.168.1.15:6443 --token zy72zr.4vwftjtktu9l6vhi --discovery-token-ca-cert-hash sha256:1623a2d61d9403b8584d5088a3c525c429bbe2192f0afdd48e538cffdab50eb9
```

Existing Control Node:
```bash
kubeadm token create --print-join-command
kubeadm join 192.168.1.15:6443 --token yj1hki.gkccdmgj8r08rzh6 --discovery-token-ca-cert-hash sha256:1623a2d61d9403b8584d5088a3c525c429bbe2192f0afdd48e538cffdab50eb9
```

New control node:
```bash
kubeadm join 192.168.1.15:6443 --token yj1hki.gkccdmgj8r08rzh6 --discovery-token-ca-cert-hash sha256:1623a2d61d9403b8584d5088a3c525c429bbe2192f0afdd48e538cffdab50eb9 --control-plane
```




### TALOS?

## Get Brew in Ubuntu

<details>

<summary> Install Brew steps </summary>

Source: https://rosado-io.medium.com/instalar-homebrew-en-ubuntu-20-04-891ff66444fb

```bash
sudo apt install build-essential curl file git
```

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
```

```bash
test -d ~/.linuxbrew && eval $(~/.linuxbrew/bin/brew shellenv)
test -d /home/linuxbrew/.linuxbrew && eval $(/home/linuxbrew/.linuxbrew/bin/brew shellenv)
echo "eval \$($(brew --prefix)/bin/brew shellenv)" >>~/.profile
```

Test:
```bash
brew search watchman
```
</details>

<details>
<summary> Install Talos in Ubuntu </summary>

```bash
brew install siderolabs/tap/talosctl
```

https://www.youtube.com/watch?v=YdQCeU7NOak --> Cluster K8s en Talos (Sobre ProxMox)

https://www.youtube.com/watch?v=u84eteJ_9ps --> Cluster HA en Talos.(1HR)


https://www.youtube.com/watch?v=PbK4TfaAlhk --> ProxMox en VirtualBox

https://www.talos.dev/v1.9/introduction/quickstart/
</details>


https://www.youtube.com/watch?v=i4voYMjBaSI -> Solucionar KVM ProxMox

C:\Users\Alejandro\VirtualBox VMs\ProxMox2>"C:\Program Files\Oracle\VirtualBox\VBoxManage.exe" modifyvm "ProxMox2" --nested-hw-virt on


vboxmanage modifyvm <uuid|vm_name> --nicpromiscN <deny|allow-vms|allow-all>

https://www.youtube.com/watch?v=T2-sEgl-_ak -> Talos in ProxMox

https://pve.proxmox.com/wiki/Proxmox_VE_inside_VirtualBox


C:\Program Files\Oracle\VirtualBox\VBoxManage.exe modifyvm "ProxMox2" --nested-hw-virt on

C:\Program Files\Oracle\VirtualBox\VBoxManage.exe modifyvm "ProxMox" --nicpromiscN allow-all

